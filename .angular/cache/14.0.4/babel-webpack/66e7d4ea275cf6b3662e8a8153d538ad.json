{"ast":null,"code":"import { Satellite } from './satellite';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./orbit-list/orbit-list.component\";\nimport * as i2 from \"./orbit-counts/orbit-counts.component\";\n\nfunction AppComponent_app_orbit_list_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-orbit-list\", 5);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"satellites\", ctx_r0.displayList);\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.title = 'orbit-report';\n      this.sourceList = [];\n      this.displayList = [];\n      let satellitesUrl = 'https://handlers.education.launchcode.org/static/satellites.json';\n      window.fetch(satellitesUrl).then(function (response) {\n        response.json().then(function (data) {\n          let fetchedSatellites = data.satellites; // loop over satellites\n\n          for (let i = 0; i < fetchedSatellites.length; i++) {\n            // create a Satellite object \n            let satellite = new Satellite(fetchedSatellites[i].name, fetchedSatellites[i].type, fetchedSatellites[i].launchDate, fetchedSatellites[i].orbitType, fetchedSatellites[i].operational); // add the new Satellite object to sourceList \n\n            this.sourceList.push(satellite);\n          } // make a copy of the sourceList to be shown to the user\n\n\n          this.displayList = this.sourceList.slice(0);\n        }.bind(this));\n      }.bind(this));\n    }\n\n    search(searchTerm) {\n      let matchingSatellites = [];\n      searchTerm = searchTerm.toLowerCase();\n\n      for (let i = 0; i < this.sourceList.length; i++) {\n        let name = this.sourceList[i].name.toLowerCase();\n\n        if (name.indexOf(searchTerm) >= 0) {\n          matchingSatellites.push(this.sourceList[i]);\n        }\n      } // assign this.displayList to be the array of matching satellites\n      // this will cause Angular to re-make the table, but now only containing matches\n\n\n      this.displayList = matchingSatellites;\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 12,\n    vars: 2,\n    consts: [[1, \"search-form\"], [3, \"satellites\", 4, \"ngFor\"], [\"type\", \"text\", \"name\", \"searchTerm\", 3, \"keyup.enter\"], [\"searchTerm\", \"\"], [3, \"click\"], [3, \"satellites\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Orbit Report\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0);\n        i0.ɵɵtemplate(3, AppComponent_app_orbit_list_3_Template, 1, 1, \"app-orbit-list\", 1);\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6, \" Search: \");\n        i0.ɵɵelementStart(7, \"input\", 2, 3);\n        i0.ɵɵlistener(\"keyup.enter\", function AppComponent_Template_input_keyup_enter_7_listener() {\n          i0.ɵɵrestoreView(_r2);\n\n          const _r1 = i0.ɵɵreference(8);\n\n          return i0.ɵɵresetView(ctx.search(_r1.value));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_9_listener() {\n          i0.ɵɵrestoreView(_r2);\n\n          const _r1 = i0.ɵɵreference(8);\n\n          return i0.ɵɵresetView(ctx.search(_r1.value));\n        });\n        i0.ɵɵtext(10, \"Search\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(11, \"app-orbit-counts\", 5);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" List \", ctx.displayList[0].name, \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"satellites\", ctx.displayList);\n      }\n    },\n    dependencies: [i1.OrbitListComponent, i2.OrbitCountsComponent],\n    styles: [\".search-form[_ngcontent-%COMP%]{margin-bottom:40px}button[_ngcontent-%COMP%]{margin-left:10px;color:#fff;background-color:#009b25;border-radius:4px;padding:2px 5px;font-size:18px;cursor:pointer}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}